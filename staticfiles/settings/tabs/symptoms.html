{% extends "settings/base.html" %}
{% load static %}
{% block user_content %}
    <div class="symptoms-management">
        <div class="mb-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Your Symptoms</h2>
            <p class="text-gray-600 mb-6">Manage your tracked symptoms and add new ones to monitor.</p>
            <div id="add-symptom-form-container"
                 class="mb-6"
                 hx-get="{% url 'add_new_symptom_partial' %}"
                 hx-trigger="load"
                 hx-swap="innerHTML"></div>
            <div id="symptoms-list-container"
                 hx-get="{% url 'symptoms_list_partial' %}"
                 hx-trigger="load"
                 hx-swap="innerHTML"></div>
        </div>
        <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">Your Allergies</h3>
            {% if user_allergies %}
                <div class="flex flex-wrap gap-2">
                    {% for allergy in user_allergies %}
                        <span class="bg-purple-50 px-3 py-1 rounded-full text-sm border border-purple-200 text-gray-700">
                            {{ allergy.name }}
                        </span>
                    {% endfor %}
                </div>
            {% else %}
                <div class="text-center py-4">
                    <p class="text-gray-600">No allergies have been added to your profile.</p>
                    <a
                        {#                            href="{% url 'food_allergies_view' %}" #}
                        class="text-purple-600 hover:text-purple-800 text-sm mt-1 inline-block">
                        Go to Food Allergies to add some
                    </a>
                </div>
            {% endif %}
        </div>
    </div>
{% endblock user_content %}
